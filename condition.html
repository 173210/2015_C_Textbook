<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8" />
    <title>01はじめの一歩</title>
    <script src="./syntaxhighlighter/scripts/shCore.js" type="text/javascript"></script>
    <script src="./syntaxhighlighter/scripts/shBrushPlain.js" type="text/javascript"></script>
    <script src="./syntaxhighlighter/scripts/shBrushCpp_kai.js" type="text/javascript"></script>
    <link href="./syntaxhighlighter/styles/shCore.css" rel="stylesheet" type="text/css">
    <link href="./syntaxhighlighter/styles/shThemeMidnight_likeVS.css" rel="stylesheet" type="text/css">
    <script type="text/javascript">
        SyntaxHighlighter.all();
    </script>
</head>
<body>
    <section>
        <h2>bool型と_BOOL型とBOOL型と</h2>
        <p>
            C++では当初から真と偽を表すbool型が導入され、C言語でもC99でbool型が使えるようになりました。<br>
            C99のbool型は_BOOL型をマクロを使って実装しています（マクロが何かは後ほど）。<br>
            実際に使い方を見ましょう。C++ではstdbool.hのincludeは不要です(無理にincludeしても勝手にincldueを外されます)。
        </p>
        <pre class="brush: cpp;">#include &lt;stdbool.h&gt;
int main(void){
    //前略
    bool no_first_skip = true;
    bool no_dct_decimate = false;
    //後略
    return 0;
}</pre>
        <p>C99/C++のbool型は、真と偽はtrueとfalseに対応し、int型に変換すると1と0になります。それ以外の値を入れられることは保証されていません。</p>
        <p>
            さて、ここまでならなんら問題はなかったのですが、問題はBOOL型です。ここでいうBOOL型はWin32APIのBOOL型です。<br>
            Win32APIのBOOL型は何をキチがえたのか、平気で負の値とかが入っていたりします。それもそのはず、ただ単にint型をtypedefしてBOOL型を作っているからです。<br>
            これにはC言語が真と偽を非0と0に対応づけてきた歴史も関わってきます。<br>
            なにが言いたいかというと、false(FALSE)が0であることは保証されているが、true(TRUE)が1であることは保証されない、ということです。<br>
            うっかりすると足を救われるので注意です。
        </p>
    </section>
    <section>
        <h2>条件文とループ</h2>
        <section>
            <h3>条件文</h3>
            <p>
                前にbit演算のところでAND演算とかOR演算とかやったと思いますが、それをbit単位でなく、変数単位でやるのが条件文です。<br>
                条件文の演算結果は事実上bool型になります。つまり、真と偽は、1と0に対応します。例を見てみましょう。
            </p>
            <pre class="brush: cpp;">int a = 10;
int tmp = (5 == a);//0になる</pre>
            <p>条件文は多くの場合大小比較や同値比較と同時に用いられるので、その演算子をまとめておきましょう。</p>
            <table>
                <tr>
                    <th>演算子</th>
                    <th>意味</th>
                </tr>

                <tr>
                    <td>==</td>
                    <td>等しい</td>
                </tr>
                <tr>
                    <td>!=</td>
                    <td>等しくない</td>
                </tr>
                <tr>
                    <td>&lt;=</td>
                    <td>(左は)(右)以下である</td>
                </tr>
                <tr>
                    <td>&gt;=</td>
                    <td>(右は)(左)以下である</td>
                </tr>
                <tr>
                    <td>&lt;</td>
                    <td>(左は)(右)より小さい</td>
                </tr>
                <tr>
                    <td>&gt;</td>
                    <td>(左は)(右)より大きい</td>
                </tr>
            </table>
            <p>これに加えてAND,OR,NOT演算子があります</p>
            <table>
                <tr>
                    <th>演算子</th>
                    <th>意味</th>
                </tr>
                <tr>
                    <td>&amp;&amp;</td>
                    <td>かつ(AND)</td>
                </tr>
                <tr>
                    <td>||</td>
                    <td>または(OR)</td>
                </tr>
                <tr>
                    <td>!</td>
                    <td>否定(NOT)</td>
                </tr>
            </table>
        </section>
        <section>
            <h2>if文</h2>
            <p>条件式をそれ単体で使うことは、そこまで多くなく、if文やこの後紹介するwhile,for,do-while文と共に用いられます。</p>
            <p>if文はプログラムを組む上で無くてはならないものです。例を見てみましょう。</p>
            <pre class="brush: cpp;">if(条件式)
    //条件式が真の時
else
    //条件式が偽の時</pre>
            <p>
                この書き方だと処理が一行しか書けません。複数行書くときは{}を使います。<br>
                気をつけて欲しいのですが、{}がなくともスコープがあります。ところで言うまでもないですが、else節はなくても構いません。
            </p>
            <pre class="brush: cpp;">int first_number, second_number, third_number, max_number, center_number, min_number;
//3つの変数になにか値を代入
if (first_number > second_number){//１番目の数と２番めの数を比較
	max_number = first_number;
	center_number = second_number;
}
else{
	max_number = second_number;
	center_number = first_number;
}
if (third_number > max_number){//３番めの数と上で出した「１番目の数と２番めの数」の大きい方と比較
	min_number = center_number;
	center_number = max_number;
	max_number = third_number;
}
else if(third_number > center_number){//３番めの数と上で出した「１番目の数と２番めの数」の小さい方と比較
	min_number = center_number;
	center_number = third_number;
}
else{//3番目の数が最小の時
	min_number = third_number;
}</pre>
            <p>このようにif文 else if のように連ねて書くことも可能です。</p>
            <pre class="brush: cpp;">if(5 == a)
    int x = 7;
else
    x = 6;//これはだめ
</pre>
            <p>そもそもif文の中で変数を宣言しないようにしましょう。<b>変数を宣言したい、そう思ったら、直ちにその部分を関数化</b>しましょう。</p>
            <section class="technique">
                <h4>コーディングの作法</h4>
                <p>if文では、else節に正常な動作を書くと、多くの場合ですっきり書けます。</p>
                <pre class="brush: cpp;">if(条件文){
    //エラー処理
}
else{
    //正常動作
}</pre>
                <p>大切なのが、正常な動作の時の流れがもっとも簡潔であるように書くことです。</p>
                <p>また、条件式を書く上での注意ですが、同値比較(==)は「=」が2つですが、ついうっかり1つにしてしまいがちです。そこで、このように書くようにしましょう</p>
                <pre class="brush: cpp;">if(5 == a)//正しい書き方
if(a == 5)//これも正しい書き方だが、推奨しない、ミスの元
if(5 = a)//これはコンパイルエラー
if(a = 5)//これはコンパイルエラーにならない、aに代入した後のaが0か否かが判別される</pre>
                <p>
                    constがついた変数や、数値、マクロで定義された値を左側、変数を右側に持っていくようにします。<br>
                    こうすることで、書き間違えた時にコンパイルエラーになります。(変更不可能なものに代入しようとしています、など)
                </p>
                <p>エラー処理等、明確に実行文が1行しかない、と言える時を除き、原則{}はつけましょう。あとで文が増えた時に付け忘れるのを防ぐことができます。</p>
            </section>
        </section>

        <section>
            <h2>3項演算子</h2>
            <p>if文とは一味ちがう書き方です。見てみましょう。</p>
            <pre class="brush: cpp" title="3項演算子を使って書く">const int hoge = 17;
const int isEven = (hoge % 2)? 1324 : 2432;</pre>
            <pre class="brush: cpp;" title="if文で書く">const int hoge = 17;
int isEven;
if(hoge % 2){
    isEven = 1324;
}
else{
    isEven = 2432;
}</pre>
            <p>if文を使って書くより簡単ですし(スコープの問題がない)、代入する変数にconstが付けられます(ワタシ的にはここが美味しい)</p>
            <p>
                この書きかたですが、「一行で」かけるので、後に説明するプリプロセッサマクロでしばしば用いられます。<br>
                ・・・って私は教わったんだけど、マクロにして使ったことってないなぁ。それくらいならinline関数(C++の機能)にしちゃうし。
            </p>
        </section>
        <section>
            <h2>while文</h2>
            <p>プログラミング言語へのループ文の導入は画期的なものでした。while文はC言語におけるもっとも簡単なループ文です。</p>
            <pre class="brush: cpp;">while(継続条件) 実行文;</pre>
            <p>if文と同様、実行文は{}を使って複数行書くことができます。例を見てみましょう。</p>
            <pre class="brush: cpp;">while('\n' != getchar());</pre>
        </section>
        <section>
            <h2>for文</h2>
            <p>はっきり言って、for文のほうがwhile文より使いやすいです。そしてfor文はこのあと説明する配列と殆どの場合一緒に使います。</p>
            <pre class="brush: cpp;">for(初期化文; 継続条件; カウンター等実行文);</pre>
            <pre class="brush: cpp;">for(unsigned int i = 0, sum = 0; i &lt; 10; i++) sum += i;</pre>
            <p>こんな感じ。まあそのうち呼吸をするがごとく登場するので、これ以上は例を上げないでおきます。実用的な例を上げたほうが良いもんね、やっぱり。</p>
        </section>
        <section>
            <h2>do-while文</h2>
            <p>事後評価文とでも言えばいいのでしょうか。whileと違い、一度実行し、それからループするかを判断します。</p>
            <pre class="brush: cpp;">do{
    //実行文
}while(継続条件)</pre>
            <p>これまた多くの場合、ポインターや標準入力とともに使うので実例はその時に。</p>
        </section>
    </section>

</body>
</html>