<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8" />
    <title>第19章 ～文字列操作～</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sanitize.css/2.0.0/sanitize.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <script src="./syntaxhighlighter/scripts/shCore.js" type="text/javascript"></script>
    <script src="./syntaxhighlighter/scripts/shBrushPlain.js" type="text/javascript"></script>
    <script src="./syntaxhighlighter/scripts/shBrushCpp_kai.js" type="text/javascript"></script>
    <link href="./syntaxhighlighter/styles/shCore.css" rel="stylesheet" type="text/css">
    <link href="./syntaxhighlighter/styles/shThemeMidnight_likeVS.css" rel="stylesheet" type="text/css">
    <script type="text/javascript">
        SyntaxHighlighter.all();
    </script>
</head>
<body>
    <h1>第19章 ～文字列操作～</h1>
    <p>
        C言語最難関の文字列操作です。ひたすら気を使わないといけないことが多い、<b>心折設計</b>となっております。<br>
        ここでは、Cでの文字列操作の難しさを苦しみつつ体感していただきつつ、C++のSTL、std::stringの便利さを痛感していただければ、と思います。
    </p>
    <section>
        <h2>strstr</h2>
        <p>文字列を検索する関数です。見つかるとその先頭のポインターを返し、見つからない場合はNULLポインターを返します。プロトタイプ宣言を見てみましょう。</p>
        <pre class="brush: cpp;">char *strstr(const char *str, const char *strSearch); // C only
char *strstr(char *str, const char *strSearch); // C++ only
const char *strstr(const char *str, const char *strSearch); // C++ only</pre>
        <p>CとC++で違うのはCとC++のconstの扱いのせいでしょうね。前に話したと思いますが。使用例を見ましょう。</p>
        <pre class="brush: cpp;">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#ifndef __cplusplus
#define nullptr NULL
#endif
int main(void){
	auto str = "arikitari_na_world!";
	auto search_key = "world";
	
	printf("base_str : %s\n", str);
	printf("search_key : %s\n", search_key);
	
	auto re = strstr(str, search_key);
	if(nullptr == re){
		puts("見つからなかったんだぜ");
	}
	else{
		const unsigned int found_place = static_cast&lt;unsigned int&gt;(re - str);
		printf("%d番目で見つかったよ\n", found_place);
	}
	return 0;
}</pre>
        <p>さて、この関数を作ってみましょう。</p>
    </section>
</body>
</html>